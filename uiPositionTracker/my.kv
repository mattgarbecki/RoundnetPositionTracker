WindowManager:
    OpeningScreen:
    MainWindow:
    RecordingWindow:
    HostPlayersChoiceWindow:

<OpeningScreen>:
    name: "opening"
    canvas.before:
        Color:
            rgba: 0.156, 0.249, 0.127, 1
        Rectangle:
            pos: self.pos
            size: self.size
    
    FloatLayout:
        Label:
            text: "Welcome to the Roundnet Position Tracker!"
            size_hint: 0.5, 0.2
            pos_hint:{"x":0.25, "top":0.75}
        Button:
            text: "Continue"
            size_hint: 0.5, 0.2
            pos_hint:{"x":0.25, "top":0.3}
            on_release:
                root.change_screen()


<MainWindow>:
    username: username
    game: game
    email: email
    name: "main"            

    FloatLayout:
        ToggleButton:
            text: "Game Player"
            size_hint: 0.25, 0.1
            pos_hint: {"x":0.25, "top":0.85}
            group: 'hostchoice'
            on_press: root.playertype = 0
        ToggleButton:
            text: "Game Host"
            size_hint: 0.25, 0.1
            pos_hint: {"x":0.5, "top":0.85}
            group: 'hostchoice'
            on_press: root.playertype = 1

        Label:
            text: "Username: "
            size_hint: 0.2, 0.2
            pos_hint: {"x":0.15, "top":0.75}
        TextInput:
            id: username
            size_hint: 0.4, 0.1
            pos_hint: {"x":0.35, "top":0.7}
        
        Label:
            text: "Game Name: "
            size_hint: 0.2, 0.2
            pos_hint: {"x":0.15, "top":0.60}
        TextInput:
            id: game
            size_hint: 0.4, 0.1
            pos_hint: {"x":0.35, "top":0.55}
        
        Label:
            text: "Email: "
            size_hint: 0.2, 0.2
            pos_hint: {"x":0.15, "top":0.45}
        TextInput:
            id: email
            size_hint: 0.4, 0.1
            pos_hint: {"x":0.35, "top":0.4}
        
        Button:
            text: "Submit"
            size_hint: 0.5, 0.2
            pos_hint: {"x":0.25, "top":0.25}
            on_release:
                #get this button to check if we have selected player type
                root.submit()
              





<RecordingWindow>:
    ball: ball
    name: "recording"

    FloatLayout:
        Button:
            text: "Finish Game"
            size_hint: 0.5, 0.1
            pos_hint:{"x":0.25, "top":0.15}
            on_release:
                root.stoprecording()
        Image:
            id: ball
            source: "ballimage.png"
            size_hint:0.1, 0.1
            pos_hint:{"x":0.325,"top":0.325}
            
        Button:
            text: "Go Back"
            size_hint: 0.2, 0.1
            pos_hint:{"x":0.1, "top":0.9}
            on_release:
                root.goback()

        Button:
            text: "Test Animation"
            size_hint: 0.2, 0.1
            pos_hint:{"x":0.7, "top":0.9}
            on_release:
                root.animate(ball)


<HostPlayersChoiceWindow>
    name: "playeramountchoice"

    FloatLayout:
        Label:
            text: "Please choose how many players you expect to be recording data in this game:"
            size_hint: 0.25, 0.1
            pos_hint: {"x":0.375, "top":0.85}
            
        Button:
            text: "1 Player (Only myself)"
            size_hint: 0.2, 0.1
            pos_hint:{"x":0.2, "top":0.6}
            on_release:
                root.choosenum(1)

        Button:
            text: "2 Players"
            size_hint: 0.2, 0.1
            pos_hint:{"x":0.6, "top":0.6}
            on_release:
                root.choosenum(2)

        Button:
            text: "3 Players"
            size_hint: 0.2, 0.1
            pos_hint:{"x":0.2, "top":0.3}
            on_release:
                root.choosenum(3)

        Button:
            text: "4 Players"
            size_hint: 0.2, 0.1
            pos_hint:{"x":0.6, "top":0.3}
            on_release:
                root.choosenum(4)
